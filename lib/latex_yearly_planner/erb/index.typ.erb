#set page(
  width: <%= planner_config.config[:document][:layout][:dimensions][:width] %>,
  height: <%= planner_config.config[:document][:layout][:dimensions][:height] %>,

  margin: (
    top: <%= planner_config.config[:document][:layout][:margin][:top] %>,
    right: <%= planner_config.config[:document][:layout][:margin][:right] %>,
    bottom: <%= planner_config.config[:document][:layout][:margin][:bottom] %>,
    left: <%= planner_config.config[:document][:layout][:margin][:left] %>
  )
)

#set text(
  size: <%= planner_config.config[:document][:text][:size] %>,
)

#let dotted = pattern(
  size: (5mm, 5mm),
  place(
    dx: 0.5pt,
    dy: 0.5pt,
    circle(
      radius: 0.4pt,
      fill: black
    )
  ),
)

#let lined = pattern(
  size: (5mm, 5mm),
  place(
    line(
      start: (0%, 6%),
      end: (100%, 6%),
      stroke: 0.4pt + luma(130)
    ),
  )
)

#let rect_pattern(pattern) = rect(
  width: 100%,
  height: 100%,
  fill: pattern
)


#let vert_stack_bottom_outset(..content, last_content) = {
  stack(
    dir: ttb,
    spacing: 1fr,
    ..content, stack(dir: ttb, spacing: 5mm, last_content, [])
  )
}

#let jot(pattern, height, name) = {
  stack(
    dir: ttb,
    spacing: 5mm,
    box(
      height: 5mm, width: 100%, stroke: (bottom: 1pt),
      align(horizon, name)
    ),
    box(
      height: height,
      width: 100%, rect_pattern(pattern)
    )
  )
}

#let black_table_cell(text) = table.cell( fill: black, text)

<% text_documents.each do |doc| %>
<%= doc.content %>
<% end %>
